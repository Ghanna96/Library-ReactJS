(this["webpackJsonplibrary-reactjs"]=this["webpackJsonplibrary-reactjs"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),l=a.n(o),s=(a(14),a(8)),c=a(1),i=a(2),u=a(4),m=a(3),h=a(5),d=function(e){return r.a.createElement("header",null,r.a.createElement("div",{className:"bg-dark text-white mb-2"},r.a.createElement("h1",null,"my Library"),r.a.createElement("button",{className:"btn btn-secondary btn-lg",onClick:function(){e.formSwap()}},"Add book")))},p=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).showForm=function(){a.setState({showForm:!a.state.showForm})},a.state={showForm:!1},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"renderForm",value:function(){var e=this,t=this.props,a=t.onSubmit,n=t.onChange,o=t.currentValues,l=t.formSwap,s=o.title,c=o.author,i=o.pages;return r.a.createElement("div",{className:"popUp"},r.a.createElement("div",{className:"modal-dialog "},r.a.createElement("div",{className:"modal-content bg-dark text-white"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"New Book")),r.a.createElement("form",{onSubmit:function(e){a(e),l()}},r.a.createElement("div",{className:"modal-body"},r.a.createElement("span",null,"Title :"),r.a.createElement("input",{className:"form-control bg-dark text-white",type:"text",name:"title",value:s,onChange:n,required:!0}),r.a.createElement("span",null,"Author :"),r.a.createElement("input",{className:"form-control bg-dark text-white",type:"text",name:"author",value:c,onChange:n,required:!0}),r.a.createElement("span",null,"Pages :"),r.a.createElement("input",{className:"form-control bg-dark text-white",type:"text",name:"pages",value:i,onChange:n,required:!0,pattern:"\\d+"})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.props.formSwap()}},"Close"),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-success"}))))))}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.formShow&&this.renderForm())}}]),t}(n.Component),b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).status=function(){return a.props.status?"Yes":"No"},a.getClass=function(){return a.props.status?"btn badge badge-success":"btn badge badge-danger"},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.author,n=e.pages,o=e.changeStatus,l=e.index,s=e.removeBook;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"}," ",l),r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",{onClick:o},r.a.createElement("span",{className:this.getClass()},this.status())),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-warning",onClick:s}," ","Delete")))}}]),t}(n.Component);var g=function(e){var t=e.library,a=e.changeStatus,n=e.remove,o=t.map((function(e,t){return r.a.createElement(b,{key:t,index:t,title:e.title,author:e.author,pages:e.pages,status:e.read,changeStatus:function(){a(t)},removeBook:function(){n(e.title)}})}));return r.a.createElement("table",{className:"table table-dark "},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Author"),r.a.createElement("th",{scope:"col"},"Pages"),r.a.createElement("th",{scope:"col"},"Read?"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,o))},f=(a(15),a(16),[{title:"1984",author:"George Orwell",pages:328,read:!1},{title:"The Lord of The Rings",author:"J.R.R. Tolkien",pages:1216,read:!0},{title:"The Picture of Dorian Gray ",author:"Oscar Wilde",pages:272,read:!0},{title:"Flow: The Psychology of Optimal Experience",author:"Mihaly Csikszentmihalyi",pages:334,read:!0}]),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleForm=function(){a.setState({showForm:!a.state.showForm})},a.handleChange=function(e){var t=Object.assign(a.state.form);t[e.target.name]=e.target.value,a.setState({form:t})},a.handleSubmit=function(e){e.preventDefault();var t=Object.assign(a.state.form),n=Object.assign(a.state.library);n.push(t),a.setState({form:{title:"",author:"",pages:"",read:""},library:n}),a.updateStorage(n)},a.handleStatus=function(e){var t=a.state.library;t[e].read=!t[e].read,a.setState({library:t}),a.updateStorage(t)},a.handleRemove=function(e){var t=a.state.library.filter((function(t){return t.title!==e}));a.setState({library:t}),a.updateStorage(t)},a.updateStorage=function(e){console.log(e),localStorage.setItem("library",JSON.stringify(e))},a.state={form:{title:"",author:"",pages:"",read:!1},library:[],showForm:!1},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("library")),t=e||f;this.setState({library:t})}},{key:"render",value:function(){var e=Object(s.a)(this.state.library);return r.a.createElement("div",{className:"App"},r.a.createElement(d,{formSwap:this.handleForm}),r.a.createElement(g,{library:e,changeStatus:this.handleStatus,remove:this.handleRemove}),r.a.createElement(p,{onSubmit:this.handleSubmit,onChange:this.handleChange,currentValues:this.state.form,formSwap:this.handleForm,formShow:this.state.showForm}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.fff56445.chunk.js.map